---
title: "Layerswap Widget Integration Guide for Immutable"
description: "Complete guide for integrating and customizing the new version of Layerswap Widget"
---

## Quick Start

### Installation

Install the Layerswap Widget along with the necessary wallet providers for Immutable:

<CodeGroup>

```typescript npm
npm install @layerswap/widget zustand @layerswap/wallet-evm wagmi viem @tanstack/react-query
```


```typescript yarn
yarn add @layerswap/widget zustand @layerswap/wallet-evm wagmi viem @tanstack/react-query
```


```typescript pnpm
pnpm add @layerswap/widget zustand @layerswap/wallet-evm wagmi viem @tanstack/react-query
```

</CodeGroup>

### Initial Configuration

```typescript
import { LayerswapProvider, Swap } from '@layerswap/widget';
import { EVMProvider } from '@layerswap/wallet-evm';
import '@layerswap/widget/index.css';

export default function App() {
  return (
    <LayerswapProvider
      config={{
        apiKey: 'YOUR_API_KEY',
        version: 'mainnet', // or 'testnet'
        initialSettings: {
		  // Set the default tab (swap or cex)
          defaultTab: 'swap',
          to: 'IMMUTABLEZK_MAINNET',
		  // Lock destination asset
          toAsset: 'USDC',
		  // Lock destination to Immutable zkEVM
          lockTo: true
		  // Pre-fill destination address (optional)
        },
      }}
      walletProviders={[EVMProvider]}
    >
      <Swap />
    </LayerswapProvider>
  );
}
```

<Note>
  You need to generate an API key from the [Partner Dashboard](/api-reference/api-keys) to use the widget.
</Note>

For a complete list of configuration options, see [Configurations](/integration/UI/Configurations).

### More network types
This example only uses EVM networks.
To enable support for more networks like Bitcoin, Solana, ImmutableX and others, install the respective packages of each network type and pass it to walletProviders. For more details see the [quickstart](/integration/UI/Widget/Quickstart).

## Wagmi Configuration

If your application already uses wagmi, you need to integrate Layerswap's network configurations with your existing wagmi setup. Use the `useSettings` hook to fetch Layerswap settings and the `useChainConfigs` hook to get chain configurations, then pass them to your wagmi config.

```typescript
import { useSettings, LayerswapProvider, Swap, WidgetLoading } from "@layerswap/widget"
import { useChainConfigs, EVMProvider } from "@layerswap/wallet-evm"
import { createConfig, WagmiProvider } from "wagmi"
import { QueryClient, QueryClientProvider } from "@tanstack/react-query"

const queryClient = new QueryClient()

const App = () => {
  const apiKey = 'YOUR_API_KEY'
  const { settings, loading } = useSettings(apiKey) // or you can use getSettings(apiKey) for server-side rendering
  const { chains, transports } = useChainConfigs(settings.networks)

  if (loading) return <WidgetLoading />

  const wagmiConfig = createConfig({
    chains,
    transports,
    connectors // Your configured connectors
  })

  return (
    <WagmiProvider config={wagmiConfig}>
      <QueryClientProvider client={queryClient}>
        <LayerswapProvider
          config={{
            settings
          }}
          walletProviders={[EVMProvider]}
        >
          <Swap/>
        </LayerswapProvider>
      </QueryClientProvider>
    </WagmiProvider>
  )
}
```

<Note>
  This approach ensures that Layerswap's supported networks are properly configured in your wagmi instance, enabling seamless wallet connections and transactions.
</Note>

## Theme Configuration

Customize the widget's appearance to match Immutable's branding:

### Immutable Theme

Apply one of the configurations for Immutable theme:

`themeConfigsNew.ts`: Immutable theme with transparent background, hidden menu and wallet icons

`themeConfigsOld.ts`: Immutable theme without adjustments

<CodeGroup>

```typescript App.tsx
import { LayerswapProvider, Swap } from '@layerswap/widget';
import { EVMProvider } from '@layerswap/wallet-evm';
import { immutableTheme } from './themeConfigsNew'; // or themeConfigsOld

export default function App() {

  return (
    <LayerswapProvider
      config={{
        ...config,
        theme: immutableTheme,
      }}
      walletProviders={[EVMProvider]}
    >
      <Swap />
    </LayerswapProvider>
  );
}
```


```typescript themeConfigsNew.ts
export const immutableTheme = {
  tertiary: '182, 182, 182',
  buttonTextColor: '19, 19, 19',
  cardBackgroundStyle: {
    backgroundColor: 'transparent',
  },
  header: {
    hideMenu: true,
    hideTabs: true,
    hideWallets: true,
  },
  primary: {
    DEFAULT: '243, 243, 243',
    '100': '255, 255, 255',
    '200': '255, 255, 255',
    '300': '255, 255, 255',
    '400': '255, 255, 255',
    '500': '243, 243, 243',
    '600': '215, 215, 215',
    '700': '187, 187, 187',
    '800': '159, 159, 159',
    '900': '131, 131, 131',
    'text': '243, 243, 243',
  },
  secondary: {
    DEFAULT: '37, 37, 37',
    '100': '119, 119, 119',
    '200': '98, 98, 98',
    '300': '78, 78, 78',
    '400': '57, 57, 57',
    '500': '37, 37, 37',
    '600': '13, 13, 13',
    '700': '13, 13, 13',
    '800': '13, 13, 13',
    '900': '0, 0, 0',
    'text': '182, 182, 182',
  },
};
```


```typescript themeConfigsOld.ts
export const immutableTheme = {
  tertiary: '182, 182, 182',
  buttonTextColor: '19, 19, 19',
  primary: {
    DEFAULT: '243, 243, 243',
    '100': '255, 255, 255',
    '200': '255, 255, 255',
    '300': '255, 255, 255',
    '400': '255, 255, 255',
    '500': '243, 243, 243',
    '600': '215, 215, 215',
    '700': '187, 187, 187',
    '800': '159, 159, 159',
    '900': '131, 131, 131',
    'text': '243, 243, 243',
  },
  secondary: {
    DEFAULT: '37, 37, 37',
    '100': '119, 119, 119',
    '200': '98, 98, 98',
    '300': '78, 78, 78',
    '400': '57, 57, 57',
    '500': '37, 37, 37',
    '600': '13, 13, 13',
    '700': '13, 13, 13',
    '800': '13, 13, 13',
    '900': '0, 0, 0',
    'text': '182, 182, 182',
  },
};
```

</CodeGroup>

### Theme Properties

<ResponseField name="primary" type="object">
  Primary color palette for buttons, links, and key UI elements. Colors are specified as RGB values (e.g., '243, 243, 243').
</ResponseField>

<ResponseField name="secondary" type="object">
  Secondary color palette for backgrounds, cards, and supporting UI elements.
</ResponseField>

<ResponseField name="tertiary" type="string">
  Tertiary color for subtle UI elements and borders (RGB format).
</ResponseField>

<ResponseField name="buttonTextColor" type="string">
  Text color for buttons (RGB format).
</ResponseField>

<ResponseField name="cardBackgroundStyle" type="object">
  Custom CSS styles for card backgrounds. Use `backgroundColor: 'transparent'` for seamless integration.
</ResponseField>

<ResponseField name="header" type="object">
  Header visibility controls:

  - `hideMenu`: Hide the menu button
  - `hideTabs`: Hide navigation tabs
  - `hideWallets`: Hide wallet connection display
</ResponseField>

<Note>
  All colors use RGB format without the `rgb()` wrapper (e.g., '243, 243, 243' instead of 'rgb(243, 243, 243)'). The widget internally applies the appropriate formatting.
</Note>

## Complete Example

Here's a full implementation example with Immutable theme, transparent background, hidden menu and wallet icons.

<CodeGroup>
```typescript App.tsx
import '@layerswap/widget/index.css';
import { useSettings, LayerswapProvider, Swap, WidgetLoading } from "@layerswap/widget"
import { useChainConfigs, EVMProvider } from "@layerswap/wallet-evm"
import { createConfig, WagmiProvider } from "wagmi"
import { QueryClient, QueryClientProvider } from "@tanstack/react-query"
import { immutableTheme } from './themeConfigs'

const queryClient = new QueryClient()

export default function ImmutableDepositWidget() {
  const apiKey = 'YOUR_API_KEY'

  const { settings, loading } = useSettings(apiKey) // or you can use getSettings(apiKey) for server-side rendering
  const { chains, transports } = useChainConfigs(settings.networks)

  if (loading) return <WidgetLoading />

  const wagmiConfig = createConfig({
    chains,
    transports,
    connectors // Your configured connectors
  })

  return (
    <WagmiProvider config={wagmiConfig}>
      <QueryClientProvider client={queryClient}>
        <LayerswapProvider
          config={{
            apiKey: apiKey,
            version: 'mainnet',
            theme: immutableTheme,
            initialSettings: {
              defaultTab: 'swap', //or 'cex'
              to: 'IMMUTABLEZK_MAINNET',
              lockTo: true,
              toAsset: 'USDC',
              actionButtonText: 'Deposit to Immutable',
            },
          }}
          walletProviders={[EVMProvider]}
        >
          <Swap />
        </LayerswapProvider>
      </QueryClientProvider>
    </WagmiProvider>
  );
}
```
```typescript themeConfigs.ts
// Immutable theme configuration
const immutableTheme = {
  tertiary: '182, 182, 182',
  buttonTextColor: '19, 19, 19',
  cardBackgroundStyle: {
    backgroundColor: 'transparent',
  },
  header: {
    hideMenu: true,
    hideTabs: true,
    hideWallets: true,
  },
  primary: {
    DEFAULT: '243, 243, 243',
    '100': '255, 255, 255',
    '200': '255, 255, 255',
    '300': '255, 255, 255',
    '400': '255, 255, 255',
    '500': '243, 243, 243',
    '600': '215, 215, 215',
    '700': '187, 187, 187',
    '800': '159, 159, 159',
    '900': '131, 131, 131',
    'text': '243, 243, 243',
  },
  secondary: {
    DEFAULT: '37, 37, 37',
    '100': '119, 119, 119',
    '200': '98, 98, 98',
    '300': '78, 78, 78',
    '400': '57, 57, 57',
    '500': '37, 37, 37',
    '600': '13, 13, 13',
    '700': '13, 13, 13',
    '800': '13, 13, 13',
    '900': '0, 0, 0',
    'text': '182, 182, 182',
  },
};
```
</CodeGroup>
## Testing

### Testnet Configuration

Test your integration on testnet before going live:

```typescript
const config={
  apiKey: 'YOUR_TESTNET_API_KEY',
  version: 'testnet',
  initialValues: {
    to: 'IMMUTABLEZK_TESTNET',
    toAsset: 'USDC'
  },
}
```