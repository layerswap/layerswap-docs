---
title: 'Swap lifecycle'
description: 'Understand the different statuses a swap goes through from creation to completion or refund.'
icon: arrows-spin
---

<div style={{backgroundColor: '#1a1a2e', padding: '24px', borderRadius: '12px'}}>

```mermaid
%%{init: {'theme': 'base', 'themeVariables': {'background': '#1a1a2e', 'lineColor': '#94a3b8', 'fontSize': '14px'}}}%%
graph TD
    l1([Swap created]) --> B([user_transfer_pending])
    B --> l2([User deposits]) --> D([ls_transfer_pending])
    B --> l3([Timeout]) --> C([expired])
    D --> l4([Success]) --> E([completed])
    D --> l5([Execution failed]) --> G([refund_pending])
    D -.-> l6([Internal error]) -.-> F([failed])
    G --> l7([Confirmed]) --> H([refunded])

    classDef label fill:none,color:#cbd5e1,stroke:#334155,stroke-width:1px

    class l1,l2,l3,l4,l5,l6,l7 label

    style B fill:#0891b2,color:#fff,stroke:#0891b2
    style D fill:#ca8a04,color:#fff,stroke:#ca8a04
    style E fill:#16a34a,color:#fff,stroke:#16a34a
    style C fill:#6b7280,color:#fff,stroke:#6b7280
    style F fill:#dc2626,color:#fff,stroke:#dc2626
    style G fill:#9333ea,color:#fff,stroke:#9333ea
    style H fill:#9333ea,color:#fff,stroke:#9333ea
```

</div>

### User Transfer Pending
**Status:** `user_transfer_pending`

When a swap is created, it starts with `user_transfer_pending` status. Layerswap is waiting for the user to complete the transaction in the source network.

### Expired
**Status:** `expired`

If the user does not complete the transaction in the source network within 3 hours, the swap status will be changed to `expired`.

### Layerswap Transfer Pending
**Status:** `ls_transfer_pending`

After the user has completed the transaction in the source network, Layerswap will verify the transaction and match it with the corresponding swap. An Input transaction object will be created to describe the user's transaction. The swap status will be changed to `ls_transfer_pending`.

### Completed
**Status:** `completed`

Layerswap has successfully processed the swap and sent the funds to the destination address in the destination network.

### Failed
**Status:** `failed`

In rare cases, an unexpected internal error may prevent Layerswap from processing the swap or initiating a refund automatically. The Layerswap team will be notified and will resolve the issue as soon as possible.

### Refund Pending
**Status:** `refund_pending`

When a swap cannot be completed, Layerswap automatically initiates a refund. The swap status will be changed to `refund_pending` while the refund transaction is being processed on the **source chain** using the **source token**. See the [Refunds](/api-reference/refunds) page for details.

### Refunded
**Status:** `refunded`

The refund transaction has been confirmed on the source chain and the user's funds have been returned. The swap's `transactions` array will include a transaction with `type: "refund"`.
